# Блок управления мультитиповой гидропонной установки
## _Еще удобнее и продуманнее_
---------------------
Третья версия блока управления гидропонной системой. Идеологически это продолжение репозитория OpenHydroponicPlatform. Система представляет собой гибрид гидропоник типов капельный полив и периодического затопления, соответственно может обслуживать обе эти системы. В конструкции исправлены замечания, которые были к гидропонике второй версии. От экрана было решено отказаться в пользу мобильности, теперь блок отстегивается от системы и подключается к ПК через type-C разъем, вся настройка осуществляется через терминал.

- Продумано подключение внешних нагрузок, в т.ч. освещения и насосов
- Подробный индикатор уровня воды с защитами от холостого пуска насоса. 
- Синхронизация времени по RTC 3231 или 1307
- Режимы работы без освещения или некоторых деталей
- Много конструкторов для обьектов для самых разных конфигураций

## Сборка
Проект собирается исключительно на Arduino 328p. В этом репозитории идет работа с обновленным bootloader, под прошивку старым необходимо изменить параметры в platformio.ini, а именно

```sh
board = nanoatmega328new
```
заменить на 
```sh
board = nanoatmega328
```

## Настройка через терминал
Поддерживаемые команды:
```sh
help
```
Выводит все возможные команды настройки
```sh
pumpconfig
```
Начинает настройку циклов насоса, необходимо будет ввести время работы-простоя насоса
```sh
exit
```
Сбрасывает текущие параметры без сохранения
_Следующие параметры будут активны только если будет обнаружен RTC:_
```sh
lightconfig
```
Начинает настройку управления светом, необходимо указать время включения и выключения
```sh
settime
```
Настраивает текущее время в RTC

## Примечания

Это уже третья итерация разработки гидропонного блока. И она является промежуточной перед большой версией на ESP32, большинство кода переносимо без изменений. Используйте на свой страх и риск.

